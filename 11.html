<!DOCTYPE HTML>
<html>
	<head>
		<meta charset="utf-8"></meta>
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>Блог Стебунова Владимира</title>
		<link rel="stylesheet" type="text/css" href="main.css">	
        <meta property="og:title" content="С Наступающим!" />
		
	</head>
	<body>
		<header>
            <h1><a href="/">Блог Стебунова Владимира</a></h1>
		</header>
		<main>
			<article>
				<time datetime=22-12-2017>22 декабрь 2017</time>
				<h1 id="диффузия-и-процедурная-генерация">Диффузия и процедурная генерация</h1>
<p><strong>Внимание, эта страница содержит тяжелые javascript скрипты!</strong></p>
<p>Иногда симулирование химических процессов даёт интересные плоды. Например, вот такие.</p>
<p>По своей сути симуляция происходит так же, как мы делали поиск границ для детектора Канни. Мы выставляем каждому пикселю два параметра А и В. Эти параметры на каждом шаге мы сворачиваем из матрицы 3 на 3 с заданными весами и это значение перемножаем на нужные коэффициенты и прибавляем к предыдущему значению. Так как параметра два, необходимо решить, какой цвет мы будем выводить, в моем примере я вывожу только параметр А.</p>
<p>В отличие от других алгоритмов, этот алгоритм зависит от входных параметров, меняя их, мы можем получить на одних и тех же данных разные картинки.</p>
<canvas data-processing-sources="pde/grayjs.pde" width="600" height="600">
<img src="img/diffusion_stat.jpg" />
</canvas>
<p>Процедурная генерация - интересная тема в программировании. Веселая ее часть: задаем правила, и компьютер их обрабатывает. Получаем не всегда предугадываемый результат. Не надо переносить спецификацию с головы заказчика в компьютер, лучше наслаждаться творчеством от начала до конца. Больше всего используется в компьютерных играх. Самый яркий пример - это карты в первом дьябло. Каждый раз лабиринт строится заново. Второй интересный пример - ELITE, где вселенная строится в зависимости от начального случайного числа.</p>
<p>Сегодня нарисуем ёлочку, пользуясь только набором правил. Идею елочки я взял с этого <a href="http://narf.pl/posts/procedural-trees">блога</a>. Мы просто задаем нашeму указателю двигаться вперед, пока это возможно и он ни во что не врезается. В случайные промежутки времени он пытается размножиться в разные стороны и начать расти в них.</p>
<canvas data-processing-sources="pde/elkajs.pde" width="600" height="600">
<img src="img/elka_stat.jpg" />
</canvas>
<p>Для вывода этого всего я использую библиотеку Processing.js. Она позволяет компилировать на лету, то что написано в Processing. К сожалению, она не очень оптимизирована и даже не поддерживает некоторые команды Processing, и не все библиотеки самого Processing туда портированы. Но для нашего случая сойдет.</p>
<p>С наступающим Новым годом!</p>
<h2 id="ссылки">Ссылки:</h2>
<ul>
<li><a href="https://vk.com/invisart?w=wall-48406435_2142">Изначальный пост</a></li>
<li><a href="http://www.algosome.com/articles/reaction-diffusion-gray-scott.html">Алгоритм дифузии Грея-Скотта</a></li>
<li><a href="http://mrob.com/pub/comp/xmorphia/">Исследования результатов</a></li>
<li><a href="http://narf.pl/posts/procedural-trees">Пост про деревья микросхемы</a></li>
<li><a href="http://processingjs.org/">Processing.js</a></li>
</ul>
<script src="js/processing.min.js"></script>
			</article>
			<p>
                <a href="12.html">Следующая статья</a>
			</p>
			<p>
                <a href="10.html">Предыдущая статья</a>
			</p>
		</main>
		<hr/>
		<footer>
			<p>Любая перепечатка материалов возможна только с разрешения владельца сайта</p>
		</footer>
	</body>
</html>
